# إعداد قاعدة بيانات Firebase

## المشكلة: قاعدة البيانات غير متصلة

إذا كانت قاعدة البيانات تظهر كـ "غير متصلة"، اتبع هذه الخطوات:

## الخطوة 1: إنشاء Realtime Database في Firebase

1. اذهب إلى [Firebase Console](https://console.firebase.google.com/)
2. اختر مشروعك: **vote-732f7**
3. من القائمة الجانبية، اضغط على **Realtime Database** (وليس Firestore)
4. إذا لم تكن موجودة، اضغط على **Create Database**
5. اختر الموقع (Location) - اختر أقرب موقع لمصر (مثل: `europe-west1`)
6. اختر **Start in test mode** (للبدء - يمكن تأمينها لاحقاً)
7. اضغط **Enable**

## الخطوة 2: التحقق من Database URL

1. بعد إنشاء قاعدة البيانات، ستجد الـ URL في أعلى الصفحة
2. يجب أن يكون مثل: `https://vote-732f7-default-rtdb.firebaseio.com/`
3. تأكد من أن هذا الـ URL مطابق لما في الكود

## الخطوة 3: إعداد Database Rules (قواعد قاعدة البيانات)

1. في صفحة Realtime Database، اضغط على تبويب **Rules**
2. تأكد من أن القواعد تسمح بالقراءة والكتابة (للاختبار):

```json
{
  "rules": {
    ".read": true,
    ".write": true
  }
}
```

3. اضغط **Publish** لحفظ القواعد

**⚠️ تحذير:** هذه القواعد تسمح لأي شخص بالقراءة والكتابة. للاستخدام الفعلي، يجب تأمينها لاحقاً.

## الخطوة 4: التحقق من الاتصال

1. افتح المتصفح
2. افتح Developer Tools (F12)
3. اذهب إلى Console
4. ابحث عن أي أخطاء متعلقة بـ Firebase
5. تأكد من أن المؤشرات تظهر "متصل" و "قاعدة البيانات متصلة"

## استكشاف الأخطاء

### الخطأ: "Permission denied"
- **الحل:** تأكد من أن Database Rules تسمح بالقراءة والكتابة

### الخطأ: "Database not found"
- **الحل:** تأكد من إنشاء Realtime Database (وليس Firestore)

### الخطأ: "Invalid database URL"
- **الحل:** تحقق من أن databaseURL في الكود صحيح

### المؤشر يظهر "غير متصل" دائماً
- **الحل:** 
  1. تحقق من اتصال الإنترنت
  2. تحقق من أن Realtime Database موجودة ومفعلة
  3. أعد تحميل الصفحة
  4. تحقق من Console للأخطاء

## اختبار الاتصال

بعد إعداد قاعدة البيانات، جرب:
1. افتح صفحة إدخال الأصوات
2. يجب أن ترى مؤشرين أخضرين: "متصل" و "قاعدة البيانات متصلة"
3. جرب إضافة صوت لاختبار الاتصال

## للمساعدة

إذا استمرت المشكلة:
1. افتح Console في المتصفح (F12)
2. انسخ أي أخطاء تظهر
3. تأكد من أن Realtime Database موجودة في Firebase Console








